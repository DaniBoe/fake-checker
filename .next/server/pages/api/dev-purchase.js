"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/dev-purchase";
exports.ids = ["pages/api/dev-purchase"];
exports.modules = {

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fdev-purchase&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cdev-purchase.ts&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fdev-purchase&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cdev-purchase.ts&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_dev_purchase_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\dev-purchase.ts */ \"(api)/./pages/api/dev-purchase.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_dev_purchase_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_dev_purchase_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/dev-purchase\",\n        pathname: \"/api/dev-purchase\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_dev_purchase_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmRldi1wdXJjaGFzZSZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDZGV2LXB1cmNoYXNlLnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQzBEO0FBQzFEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyx1REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsdURBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGFidWJ1cy1jaGVja2VyLz9kYjk1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxcZGV2LXB1cmNoYXNlLnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvZGV2LXB1cmNoYXNlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZGV2LXB1cmNoYXNlXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fdev-purchase&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cdev-purchase.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createClient: () => (/* binding */ createClient),\n/* harmony export */   supabase: () => (/* binding */ supabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(\"https://cfyohvsacffjgzpjrywn.supabase.co\" || 0, \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNmeW9odnNhY2Zmamd6cGpyeXduIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4NjEzNDMsImV4cCI6MjA3MDQzNzM0M30.RdZJp0Z041_fEyFN10c_dkAJ-nVaSmttovBhj36VrnA\" || 0);\n// Export createClient for the enhanced usage system\nconst createClient = ()=>(0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(\"https://cfyohvsacffjgzpjrywn.supabase.co\" || 0, process.env.SUPABASE_SERVICE_ROLE_KEY || \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNmeW9odnNhY2Zmamd6cGpyeXduIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4NjEzNDMsImV4cCI6MjA3MDQzNzM0M30.RdZJp0Z041_fEyFN10c_dkAJ-nVaSmttovBhj36VrnA\" || 0);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUE2RTtBQUV0RSxNQUFNRSxXQUFXRCxtRUFBb0JBLENBQzNDRSwwQ0FBb0MsSUFBSSxDQUFFLEVBQzFDQSxrTkFBeUMsSUFBSSxDQUFFLEVBQzlDO0FBRUYsb0RBQW9EO0FBQzdDLE1BQU1ILGVBQWUsSUFBTUMsbUVBQW9CQSxDQUNyREUsMENBQW9DLElBQUksQ0FBRSxFQUMxQ0EsUUFBUUMsR0FBRyxDQUFDRyx5QkFBeUIsSUFBSUosa05BQXlDLElBQUksQ0FBRSxFQUN2RiIsInNvdXJjZXMiOlsid2VicGFjazovL2xhYnVidXMtY2hlY2tlci8uL2xpYi9kYi50cz8xZGYwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudCBhcyBjcmVhdGVTdXBhYmFzZUNsaWVudCB9IGZyb20gXCJAc3VwYWJhc2Uvc3VwYWJhc2UtanNcIjtcblxuZXhwb3J0IGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlU3VwYWJhc2VDbGllbnQoXG5cdHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCB8fCBcIlwiLFxuXHRwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSB8fCBcIlwiXG4pO1xuXG4vLyBFeHBvcnQgY3JlYXRlQ2xpZW50IGZvciB0aGUgZW5oYW5jZWQgdXNhZ2Ugc3lzdGVtXG5leHBvcnQgY29uc3QgY3JlYXRlQ2xpZW50ID0gKCkgPT4gY3JlYXRlU3VwYWJhc2VDbGllbnQoXG5cdHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCB8fCBcIlwiLFxuXHRwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIHx8IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIHx8IFwiXCJcbik7XG5cbmV4cG9ydCB0eXBlIEhpc3RvcnlJdGVtID0ge1xuXHRpZDogc3RyaW5nO1xuXHR1c2VyX2lkPzogc3RyaW5nIHwgbnVsbDtcblx0aW1hZ2VfdXJsOiBzdHJpbmc7XG5cdGxhYmVsOiBcIkxpa2VseSBBdXRoZW50aWNcIiB8IFwiU3VzcGljaW91c1wiIHwgXCJGYWtlXCI7XG5cdHJlYXNvbjogc3RyaW5nO1xuXHRjb25maWRlbmNlOiBudW1iZXI7XG5cdGNyZWF0ZWRfYXQ6IHN0cmluZztcbn07XG4iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50IiwiY3JlYXRlU3VwYWJhc2VDbGllbnQiLCJzdXBhYmFzZSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsIlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/db.ts\n");

/***/ }),

/***/ "(api)/./pages/api/dev-purchase.ts":
/*!***********************************!*\
  !*** ./pages/api/dev-purchase.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/db */ \"(api)/./lib/db.ts\");\n\nasync function handler(req, res) {\n    if (req.method !== \"POST\") return res.status(405).end(\"Method not allowed\");\n    // Only allow in development\n    if (false) {}\n    const { userId, packageId } = req.body;\n    if (!userId || !packageId) {\n        return res.status(400).json({\n            error: \"userId and packageId are required\"\n        });\n    }\n    // Package definitions\n    const packages = {\n        \"starter\": {\n            checks: 10,\n            price: 7.99\n        },\n        \"value\": {\n            checks: 40,\n            price: 29.99\n        },\n        \"pro\": {\n            checks: 80,\n            price: 55.99\n        }\n    };\n    const packageData = packages[packageId];\n    if (!packageData) {\n        return res.status(400).json({\n            error: \"Invalid package ID\"\n        });\n    }\n    try {\n        console.log(\"\\uD83D\\uDD27 Starting development purchase process...\");\n        const supabase = (0,_lib_db__WEBPACK_IMPORTED_MODULE_0__.createClient)();\n        console.log(\"\\uD83D\\uDD27 Supabase client created\");\n        // Test the connection\n        console.log(\"\\uD83D\\uDD27 Testing Supabase connection...\");\n        const { data: testData, error: testError } = await supabase.from(\"profiles\").select(\"count\").limit(1);\n        if (testError) {\n            console.error(\"❌ Supabase connection test failed:\", testError);\n            return res.status(500).json({\n                error: \"Database connection failed\",\n                details: testError.message\n            });\n        }\n        console.log(\"\\uD83D\\uDD27 Supabase connection test passed\");\n        // First, check if user profile exists\n        console.log(\"\\uD83D\\uDD27 Checking if user profile exists...\");\n        const { data: existingUser, error: fetchError } = await supabase.from(\"profiles\").select(\"id, remaining_checks\").eq(\"id\", userId).single();\n        if (fetchError) {\n            console.error(\"Error fetching user profile:\", fetchError);\n            // Try to create the user profile if it doesn't exist\n            console.log(\"Attempting to create user profile...\");\n            const { error: createError } = await supabase.from(\"profiles\").insert({\n                id: userId,\n                remaining_checks: 0\n            });\n            if (createError) {\n                console.error(\"Error creating user profile:\", createError);\n                return res.status(500).json({\n                    error: \"Failed to create user profile\",\n                    details: createError.message\n                });\n            }\n            console.log(\"User profile created successfully\");\n        }\n        console.log(\"Current user profile:\", existingUser);\n        // Add checks to user's account\n        console.log(\"\\uD83D\\uDD27 Updating user checks...\");\n        // First get current remaining_checks\n        const { data: currentProfile, error: fetchCurrentError } = await supabase.from(\"profiles\").select(\"remaining_checks\").eq(\"id\", userId).single();\n        if (fetchCurrentError) {\n            console.error(\"Error fetching current profile:\", fetchCurrentError);\n            return res.status(500).json({\n                error: \"Failed to fetch current profile\",\n                details: fetchCurrentError.message\n            });\n        }\n        const newRemainingChecks = (currentProfile?.remaining_checks || 0) + packageData.checks;\n        console.log(\"\\uD83D\\uDD27 Updating checks from\", currentProfile?.remaining_checks, \"to\", newRemainingChecks);\n        const { error: updateError } = await supabase.from(\"profiles\").update({\n            remaining_checks: newRemainingChecks\n        }).eq(\"id\", userId);\n        if (updateError) {\n            console.error(\"Error updating user checks:\", updateError);\n            return res.status(500).json({\n                error: \"Failed to update user checks\",\n                details: updateError.message\n            });\n        }\n        console.log(\"\\uD83D\\uDD27 User checks updated successfully\");\n        // Verify the update worked\n        const { data: updatedUser, error: verifyError } = await supabase.from(\"profiles\").select(\"remaining_checks\").eq(\"id\", userId).single();\n        if (verifyError) {\n            console.error(\"Error verifying update:\", verifyError);\n        } else {\n            console.log(\"Updated user profile:\", updatedUser);\n        }\n        // Record the purchase\n        console.log(\"\\uD83D\\uDD27 Recording purchase...\");\n        const { error: purchaseError } = await supabase.from(\"package_purchases\").insert({\n            user_id: userId,\n            stripe_payment_intent_id: `dev_${Date.now()}`,\n            package_type: packageId,\n            checks_purchased: packageData.checks,\n            amount_paid_cents: Math.round(packageData.price * 100)\n        });\n        if (purchaseError) {\n            console.error(\"Error recording purchase:\", purchaseError);\n            return res.status(500).json({\n                error: \"Failed to record purchase\",\n                details: purchaseError.message\n            });\n        }\n        console.log(\"\\uD83D\\uDD27 Purchase recorded successfully\");\n        console.log(`✅ Development: Added ${packageData.checks} checks to user ${userId} for package ${packageId}`);\n        return res.status(200).json({\n            success: true,\n            checksAdded: packageData.checks,\n            package: packageId,\n            message: `Successfully added ${packageData.checks} checks to your account!`\n        });\n    } catch (error) {\n        console.error(\"Development purchase error:\", error);\n        return res.status(500).json({\n            error: \"Internal server error\",\n            details: error instanceof Error ? error.message : String(error)\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bEM7WUFDVG1DLDBCQUEwQixDQUFDLElBQUksRUFBRUMsS0FBS0MsR0FBRyxHQUFHLENBQUM7WUFDN0NDLGNBQWNyQztZQUNkc0Msa0JBQWtCakMsWUFBWUYsTUFBTTtZQUNwQ29DLG1CQUFtQkMsS0FBS0MsS0FBSyxDQUFDcEMsWUFBWUQsS0FBSyxHQUFHO1FBQ3BEO1FBRUYsSUFBSTRCLGVBQWU7WUFDakIxQixRQUFRUixLQUFLLENBQUMsNkJBQTZCa0M7WUFDM0MsT0FBT3hDLElBQUlFLE1BQU0sQ0FBQyxLQUFLRyxJQUFJLENBQUM7Z0JBQzFCQyxPQUFPO2dCQUNQaUIsU0FBU2lCLGNBQWNoQixPQUFPO1lBQ2hDO1FBQ0Y7UUFDQVYsUUFBUUMsR0FBRyxDQUFDO1FBRVpELFFBQVFDLEdBQUcsQ0FBQyxDQUFDLHFCQUFxQixFQUFFRixZQUFZRixNQUFNLENBQUMsZ0JBQWdCLEVBQUVKLE9BQU8sYUFBYSxFQUFFQyxVQUFVLENBQUM7UUFFMUcsT0FBT1IsSUFBSUUsTUFBTSxDQUFDLEtBQUtHLElBQUksQ0FBQztZQUMxQjZDLFNBQVM7WUFDVEMsYUFBYXRDLFlBQVlGLE1BQU07WUFDL0J5QyxTQUFTNUM7WUFDVGdCLFNBQVMsQ0FBQyxtQkFBbUIsRUFBRVgsWUFBWUYsTUFBTSxDQUFDLHdCQUF3QixDQUFDO1FBQzdFO0lBRUYsRUFBRSxPQUFPTCxPQUFPO1FBQ2RRLFFBQVFSLEtBQUssQ0FBQywrQkFBK0JBO1FBQzdDLE9BQU9OLElBQUlFLE1BQU0sQ0FBQyxLQUFLRyxJQUFJLENBQUM7WUFDMUJDLE9BQU87WUFDUGlCLFNBQVNqQixpQkFBaUIrQyxRQUFRL0MsTUFBTWtCLE9BQU8sR0FBRzhCLE9BQU9oRDtRQUMzRDtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sYWJ1YnVzLWNoZWNrZXIvLi9wYWdlcy9hcGkvZGV2LXB1cmNoYXNlLnRzP2U2OWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSBcIm5leHRcIjtcclxuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSBcIkAvbGliL2RiXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSB7XHJcbiAgaWYgKHJlcS5tZXRob2QgIT09IFwiUE9TVFwiKSByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmVuZChcIk1ldGhvZCBub3QgYWxsb3dlZFwiKTtcclxuICBcclxuICAvLyBPbmx5IGFsbG93IGluIGRldmVsb3BtZW50XHJcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAnZGV2ZWxvcG1lbnQnKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oeyBlcnJvcjogXCJEZXZlbG9wbWVudCBlbmRwb2ludCBvbmx5XCIgfSk7XHJcbiAgfVxyXG5cclxuICBjb25zdCB7IHVzZXJJZCwgcGFja2FnZUlkIH0gPSByZXEuYm9keTtcclxuXHJcbiAgaWYgKCF1c2VySWQgfHwgIXBhY2thZ2VJZCkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IFwidXNlcklkIGFuZCBwYWNrYWdlSWQgYXJlIHJlcXVpcmVkXCIgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBQYWNrYWdlIGRlZmluaXRpb25zXHJcbiAgY29uc3QgcGFja2FnZXMgPSB7XHJcbiAgICAnc3RhcnRlcic6IHsgY2hlY2tzOiAxMCwgcHJpY2U6IDcuOTkgfSxcclxuICAgICd2YWx1ZSc6IHsgY2hlY2tzOiA0MCwgcHJpY2U6IDI5Ljk5IH0sXHJcbiAgICAncHJvJzogeyBjaGVja3M6IDgwLCBwcmljZTogNTUuOTkgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHBhY2thZ2VEYXRhID0gcGFja2FnZXNbcGFja2FnZUlkIGFzIGtleW9mIHR5cGVvZiBwYWNrYWdlc107XHJcbiAgaWYgKCFwYWNrYWdlRGF0YSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IFwiSW52YWxpZCBwYWNrYWdlIElEXCIgfSk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coJ/CflKcgU3RhcnRpbmcgZGV2ZWxvcG1lbnQgcHVyY2hhc2UgcHJvY2Vzcy4uLicpO1xyXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoKTtcclxuICAgIGNvbnNvbGUubG9nKCfwn5SnIFN1cGFiYXNlIGNsaWVudCBjcmVhdGVkJyk7XHJcbiAgICBcclxuICAgIC8vIFRlc3QgdGhlIGNvbm5lY3Rpb25cclxuICAgIGNvbnNvbGUubG9nKCfwn5SnIFRlc3RpbmcgU3VwYWJhc2UgY29ubmVjdGlvbi4uLicpO1xyXG4gICAgY29uc3QgeyBkYXRhOiB0ZXN0RGF0YSwgZXJyb3I6IHRlc3RFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ3Byb2ZpbGVzJylcclxuICAgICAgLnNlbGVjdCgnY291bnQnKVxyXG4gICAgICAubGltaXQoMSk7XHJcbiAgICBcclxuICAgIGlmICh0ZXN0RXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIFN1cGFiYXNlIGNvbm5lY3Rpb24gdGVzdCBmYWlsZWQ6JywgdGVzdEVycm9yKTtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgXHJcbiAgICAgICAgZXJyb3I6IFwiRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWRcIixcclxuICAgICAgICBkZXRhaWxzOiB0ZXN0RXJyb3IubWVzc2FnZSBcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZygn8J+UpyBTdXBhYmFzZSBjb25uZWN0aW9uIHRlc3QgcGFzc2VkJyk7XHJcblxyXG4gICAgLy8gRmlyc3QsIGNoZWNrIGlmIHVzZXIgcHJvZmlsZSBleGlzdHNcclxuICAgIGNvbnNvbGUubG9nKCfwn5SnIENoZWNraW5nIGlmIHVzZXIgcHJvZmlsZSBleGlzdHMuLi4nKTtcclxuICAgIGNvbnN0IHsgZGF0YTogZXhpc3RpbmdVc2VyLCBlcnJvcjogZmV0Y2hFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ3Byb2ZpbGVzJylcclxuICAgICAgLnNlbGVjdCgnaWQsIHJlbWFpbmluZ19jaGVja3MnKVxyXG4gICAgICAuZXEoJ2lkJywgdXNlcklkKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcblxyXG4gICAgaWYgKGZldGNoRXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdXNlciBwcm9maWxlOicsIGZldGNoRXJyb3IpO1xyXG4gICAgICBcclxuICAgICAgLy8gVHJ5IHRvIGNyZWF0ZSB0aGUgdXNlciBwcm9maWxlIGlmIGl0IGRvZXNuJ3QgZXhpc3RcclxuICAgICAgY29uc29sZS5sb2coJ0F0dGVtcHRpbmcgdG8gY3JlYXRlIHVzZXIgcHJvZmlsZS4uLicpO1xyXG4gICAgICBjb25zdCB7IGVycm9yOiBjcmVhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgncHJvZmlsZXMnKVxyXG4gICAgICAgIC5pbnNlcnQoe1xyXG4gICAgICAgICAgaWQ6IHVzZXJJZCxcclxuICAgICAgICAgIHJlbWFpbmluZ19jaGVja3M6IDBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChjcmVhdGVFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIHVzZXIgcHJvZmlsZTonLCBjcmVhdGVFcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgXHJcbiAgICAgICAgICBlcnJvcjogXCJGYWlsZWQgdG8gY3JlYXRlIHVzZXIgcHJvZmlsZVwiLFxyXG4gICAgICAgICAgZGV0YWlsczogY3JlYXRlRXJyb3IubWVzc2FnZSBcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coJ1VzZXIgcHJvZmlsZSBjcmVhdGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKCdDdXJyZW50IHVzZXIgcHJvZmlsZTonLCBleGlzdGluZ1VzZXIpO1xyXG5cclxuICAgIC8vIEFkZCBjaGVja3MgdG8gdXNlcidzIGFjY291bnRcclxuICAgIGNvbnNvbGUubG9nKCfwn5SnIFVwZGF0aW5nIHVzZXIgY2hlY2tzLi4uJyk7XHJcbiAgICBcclxuICAgIC8vIEZpcnN0IGdldCBjdXJyZW50IHJlbWFpbmluZ19jaGVja3NcclxuICAgIGNvbnN0IHsgZGF0YTogY3VycmVudFByb2ZpbGUsIGVycm9yOiBmZXRjaEN1cnJlbnRFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ3Byb2ZpbGVzJylcclxuICAgICAgLnNlbGVjdCgncmVtYWluaW5nX2NoZWNrcycpXHJcbiAgICAgIC5lcSgnaWQnLCB1c2VySWQpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuICAgIFxyXG4gICAgaWYgKGZldGNoQ3VycmVudEVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGN1cnJlbnQgcHJvZmlsZTonLCBmZXRjaEN1cnJlbnRFcnJvcik7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IFxyXG4gICAgICAgIGVycm9yOiBcIkZhaWxlZCB0byBmZXRjaCBjdXJyZW50IHByb2ZpbGVcIixcclxuICAgICAgICBkZXRhaWxzOiBmZXRjaEN1cnJlbnRFcnJvci5tZXNzYWdlIFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgbmV3UmVtYWluaW5nQ2hlY2tzID0gKGN1cnJlbnRQcm9maWxlPy5yZW1haW5pbmdfY2hlY2tzIHx8IDApICsgcGFja2FnZURhdGEuY2hlY2tzO1xyXG4gICAgY29uc29sZS5sb2coJ/CflKcgVXBkYXRpbmcgY2hlY2tzIGZyb20nLCBjdXJyZW50UHJvZmlsZT8ucmVtYWluaW5nX2NoZWNrcywgJ3RvJywgbmV3UmVtYWluaW5nQ2hlY2tzKTtcclxuICAgIFxyXG4gICAgY29uc3QgeyBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdwcm9maWxlcycpXHJcbiAgICAgIC51cGRhdGUoeyBcclxuICAgICAgICByZW1haW5pbmdfY2hlY2tzOiBuZXdSZW1haW5pbmdDaGVja3NcclxuICAgICAgfSlcclxuICAgICAgLmVxKCdpZCcsIHVzZXJJZCk7XHJcblxyXG4gICAgaWYgKHVwZGF0ZUVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHVzZXIgY2hlY2tzOicsIHVwZGF0ZUVycm9yKTtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgXHJcbiAgICAgICAgZXJyb3I6IFwiRmFpbGVkIHRvIHVwZGF0ZSB1c2VyIGNoZWNrc1wiLFxyXG4gICAgICAgIGRldGFpbHM6IHVwZGF0ZUVycm9yLm1lc3NhZ2UgXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coJ/CflKcgVXNlciBjaGVja3MgdXBkYXRlZCBzdWNjZXNzZnVsbHknKTtcclxuXHJcbiAgICAvLyBWZXJpZnkgdGhlIHVwZGF0ZSB3b3JrZWRcclxuICAgIGNvbnN0IHsgZGF0YTogdXBkYXRlZFVzZXIsIGVycm9yOiB2ZXJpZnlFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ3Byb2ZpbGVzJylcclxuICAgICAgLnNlbGVjdCgncmVtYWluaW5nX2NoZWNrcycpXHJcbiAgICAgIC5lcSgnaWQnLCB1c2VySWQpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICBpZiAodmVyaWZ5RXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdmVyaWZ5aW5nIHVwZGF0ZTonLCB2ZXJpZnlFcnJvcik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZygnVXBkYXRlZCB1c2VyIHByb2ZpbGU6JywgdXBkYXRlZFVzZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlY29yZCB0aGUgcHVyY2hhc2VcclxuICAgIGNvbnNvbGUubG9nKCfwn5SnIFJlY29yZGluZyBwdXJjaGFzZS4uLicpO1xyXG4gICAgY29uc3QgeyBlcnJvcjogcHVyY2hhc2VFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ3BhY2thZ2VfcHVyY2hhc2VzJylcclxuICAgICAgLmluc2VydCh7XHJcbiAgICAgICAgdXNlcl9pZDogdXNlcklkLFxyXG4gICAgICAgIHN0cmlwZV9wYXltZW50X2ludGVudF9pZDogYGRldl8ke0RhdGUubm93KCl9YCwgLy8gTW9jayBwYXltZW50IGludGVudCBJRFxyXG4gICAgICAgIHBhY2thZ2VfdHlwZTogcGFja2FnZUlkLFxyXG4gICAgICAgIGNoZWNrc19wdXJjaGFzZWQ6IHBhY2thZ2VEYXRhLmNoZWNrcyxcclxuICAgICAgICBhbW91bnRfcGFpZF9jZW50czogTWF0aC5yb3VuZChwYWNrYWdlRGF0YS5wcmljZSAqIDEwMCksXHJcbiAgICAgIH0pO1xyXG5cclxuICAgIGlmIChwdXJjaGFzZUVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlY29yZGluZyBwdXJjaGFzZTonLCBwdXJjaGFzZUVycm9yKTtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgXHJcbiAgICAgICAgZXJyb3I6IFwiRmFpbGVkIHRvIHJlY29yZCBwdXJjaGFzZVwiLFxyXG4gICAgICAgIGRldGFpbHM6IHB1cmNoYXNlRXJyb3IubWVzc2FnZSBcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZygn8J+UpyBQdXJjaGFzZSByZWNvcmRlZCBzdWNjZXNzZnVsbHknKTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhg4pyFIERldmVsb3BtZW50OiBBZGRlZCAke3BhY2thZ2VEYXRhLmNoZWNrc30gY2hlY2tzIHRvIHVzZXIgJHt1c2VySWR9IGZvciBwYWNrYWdlICR7cGFja2FnZUlkfWApO1xyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IFxyXG4gICAgICBzdWNjZXNzOiB0cnVlLCBcclxuICAgICAgY2hlY2tzQWRkZWQ6IHBhY2thZ2VEYXRhLmNoZWNrcyxcclxuICAgICAgcGFja2FnZTogcGFja2FnZUlkLFxyXG4gICAgICBtZXNzYWdlOiBgU3VjY2Vzc2Z1bGx5IGFkZGVkICR7cGFja2FnZURhdGEuY2hlY2tzfSBjaGVja3MgdG8geW91ciBhY2NvdW50IWBcclxuICAgIH0pO1xyXG5cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRGV2ZWxvcG1lbnQgcHVyY2hhc2UgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgXHJcbiAgICAgIGVycm9yOiBcIkludGVybmFsIHNlcnZlciBlcnJvclwiLFxyXG4gICAgICBkZXRhaWxzOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcilcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50IiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInN0YXR1cyIsImVuZCIsInByb2Nlc3MiLCJqc29uIiwiZXJyb3IiLCJ1c2VySWQiLCJwYWNrYWdlSWQiLCJib2R5IiwicGFja2FnZXMiLCJjaGVja3MiLCJwcmljZSIsInBhY2thZ2VEYXRhIiwiY29uc29sZSIsImxvZyIsInN1cGFiYXNlIiwiZGF0YSIsInRlc3REYXRhIiwidGVzdEVycm9yIiwiZnJvbSIsInNlbGVjdCIsImxpbWl0IiwiZGV0YWlscyIsIm1lc3NhZ2UiLCJleGlzdGluZ1VzZXIiLCJmZXRjaEVycm9yIiwiZXEiLCJzaW5nbGUiLCJjcmVhdGVFcnJvciIsImluc2VydCIsImlkIiwicmVtYWluaW5nX2NoZWNrcyIsImN1cnJlbnRQcm9maWxlIiwiZmV0Y2hDdXJyZW50RXJyb3IiLCJuZXdSZW1haW5pbmdDaGVja3MiLCJ1cGRhdGVFcnJvciIsInVwZGF0ZSIsInVwZGF0ZWRVc2VyIiwidmVyaWZ5RXJyb3IiLCJwdXJjaGFzZUVycm9yIiwidXNlcl9pZCIsInN0cmlwZV9wYXltZW50X2ludGVudF9pZCIsIkRhdGUiLCJub3ciLCJwYWNrYWdlX3R5cGUiLCJjaGVja3NfcHVyY2hhc2VkIiwiYW1vdW50X3BhaWRfY2VudHMiLCJNYXRoIiwicm91bmQiLCJzdWNjZXNzIiwiY2hlY2tzQWRkZWQiLCJwYWNrYWdlIiwiRXJyb3IiLCJTdHJpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/dev-purchase.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fdev-purchase&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cdev-purchase.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();